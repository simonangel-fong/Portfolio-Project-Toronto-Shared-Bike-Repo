pipeline {
  agent any

  triggers {
    // cron '0 0 * * *'    // every midnight
    githubPush() // Triggers on GitHub push events
  }

  stages {

    stage('Cleanup Workspace & Checkout') {
      steps {
        echo "#################### Cleans the workspace ####################"
        cleanWs()
        
        echo "#################### Checkout ####################"
        checkout scm
        sh '''
          pwd
          ls -l
        '''
      }
    }

    stage('test') {
      steps {
        dir("data-warehouse/postgresql"){
          echo "#################### test ####################"
        }
      }
    }
  }

}