jenkins:
  systemMessage: "Project Toronto Shared Bike - Jenkins Dashboard"

  securityRealm:
    local:
      allowsSignup: false
      enableCaptcha: false
      users:
      - id: ${JENKINS_ADMIN_ID}
        password: ${JENKINS_ADMIN_PASSWORD}

credentials:
  system:
    domainCredentials:
    - credentials:
      - string:
          id: "postgres_db"
          scope: GLOBAL
          secret: "toronto_shared_bike"
      - string:
          id: "postgres_user"
          scope: GLOBAL
          secret: "postgres"
      - string:
          id: "postgres_password"
          scope: GLOBAL
          secret: "SecurePassword123"

tool:
  git:
    installations:
    - home: "git"
      name: "Default"
  mavenGlobalConfig:
    globalSettingsProvider: "standard"
    settingsProvider: "standard"

jobs:
  - script: >
      pipelineJob('docker-agent-test') {
        definition {
          cpsScm {
            scm {
              git {
                remote {
                  url('https://github.com/simonangel-fong/Portfolio-Project-Toronto-Shared-Bike-Repo.git')
                }
                branch('feature/dw')
              }
            }
            scriptPath('data-warehouse/jenkins/Jenkinsfile')
          }
        }
      }